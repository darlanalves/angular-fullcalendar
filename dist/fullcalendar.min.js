!function(){var e=angular.module("angular-fullcalendar",[]);e.factory("Calendar",["$locale","CalendarViewModes","CalendarLocale",function(e,n,t){function r(e,n,t){var r=this;r.$scope=e,r.$element=n,r.config=t,setTimeout(function(){var e=o(r);n.fullCalendar&&n.fullCalendar(e)}),e.$on("view.change",function(e,n){r.currentView=n})}function a(){var e=c.call(arguments),n=e.shift(),t=n.$element;return t.fullCalendar.apply(t,e)}function o(e){var n=angular.copy(l),t=e.config;"header"in t&&(n.header=t.header),t.transformFunction&&(n.eventDataTransform=t.transformFunction);var r=new i(e.$scope);n.loading=r.onLoadEvents,angular.extend(n,s()),n.eventDragStart=r.onEventDrag,n.eventDragStop=r.onEventDragEnd,n.eventDrop=r.onEventDrop,n.dayClick=r.onDayClick,n.eventClick=r.onEventClick,n.eventMouseover=r.onEventMouseOver,n.eventMouseout=r.onEventMouseOut,n.eventResize=r.onEventResize,n.viewDisplay=r.onViewDisplay,n.select=r.onSelect,n.unselect=r.onUnselect,n.editable=t.editable,n.unselectAuto=!0,"selectable"in t&&(n.selectable=t.selectable,n.selectHelper=!0),n.defaultView=t.mode,n.firstDay=t.firstDay,n.eventAfterAllRender=t.onAfterAllRender,"events"in t&&(n.events=t.events);var a=[];t.endpoint&&a.push(t.endpoint);var o=t.eventList;return o&&(angular.isArray(o)?a=a.concat(o):a.push(o)),angular.isFunction(t.eventLoader)&&a.push(t.eventLoader),n.eventSources=a,n}function i(e){function n(){var n=arguments;e.$$phase?e.$emit.apply(e,n):e.$apply(function(){e.$emit.apply(e,n)})}return{onDayClick:function(e,t,r,a){n("click.day",e,t,r,a)},onEventClick:function(e,t,r){n("click.event",e.id,e,t,r)},onEventMouseOver:function(e,t,r){n("event.mouseenter",e.id,e,t,r)},onEventMouseOut:function(e,t,r){n("event.mouseleave",e.id,e,t,r)},onAfterAllRender:function(e){n("afterrender",e)},onViewDisplay:function(e){n("view.change",e)},onEventDrag:function(e){n("event.drag",e.id,e)},onEventDragEnd:function(e){n("event.dragend",e.id,e)},onEventDrop:function(e,t,r){var a=e.start._i,o=e.start._d;n("event.drop",e,t,o,a,r)},onEventResize:function(e,t,r,a){n("event.resize",e.id,e,t,r,a)},onSelect:function(e,t,r,a,o){n("select",e,t,r,a,o)},onUnselect:function(e,t){n("unselect",e,t)},onLoadEvents:function(e,t){n("load",e,t)}}}function u(e){var n=/(m+?)|(d+?)|(y+?)|$/g,t="",r=0;return e.replace(n,function(n,a,o,i,u){t+=e.slice(r,u),a&&(t+="MM"),o&&(t+="dd"),i&&(t+="yy"),r=u+n.length}),t}function s(){var n=u(e.DATETIME_FORMATS.shortDate);return{columnFormat:{month:"ddd",week:n,day:"dddd "+n},monthNames:e.DATETIME_FORMATS.MONTH,dayNames:e.DATETIME_FORMATS.DAY,monthNamesShort:e.DATETIME_FORMATS.SHORTMONTH,dayNamesShort:e.DATETIME_FORMATS.SHORTDAY,buttonText:{today:t.getLabel("today"),month:t.getLabel("month"),day:t.getLabel("day"),week:t.getLabel("week")}}}r.prototype={constructor:r,render:function(){return a(this,"render"),this},next:function(){return a(this,"next"),this},prev:function(){return a(this,"prev"),this},prevYear:function(){return a(this,"prevYear"),this},nextYear:function(){return a(this,"nextYear"),this},today:function(){return a(this,"today"),this},goTo:function(e,n,t){return a(this,"gotoDate",e,n,t),this},addEvent:function(e,n){return a(this,"renderEvent",e,!!n),this},removeEvent:function(e){var n=angular.isObject(e)&&e.id?e.id:Number(e);return a(this,"removeEvents",n),this},updateEvent:function(e){this.removeEvent(e),this.addEvent(e)},clear:function(){return a(this,"removeEvents"),this},refresh:function(){return a(this,"rerenderEvents"),this},changeView:function(e){return this.mode=e,a(this,"changeView",e),this},selectEvents:function(e,n,t){return a(this,"select",e,n,t),this},unselect:function(){return a(this,"unselect"),this},setCalendarOption:function(e,n){return a(this,"option",e,n),this},setEvents:function(e){return this.setCalendarOption("events",e),this},getCurrentView:function(){return this.currentView}};var c=Array.prototype.slice;angular.extend(r.prototype,n);var l={hideWeekends:!1,firstDay:0,mode:n.MODE_MONTH,events:!1,endpoint:!1,editable:!1,selectable:!1,header:{left:"title",center:"prev,next",right:"today"}};return r}]),e.factory("CalendarLocale",function(){function e(e){angular.isObject(e)&&angular.forEach(e,function(e,t){n(t,e)})}function n(e,n){r[e]=n}function t(e){return e?r[e]:r}var r={};return{getLabel:t,setLabels:e,setLabel:n}}),e.value("CalendarViewModes",{MODE_MONTH:"month",MODE_BASIC_WEEK:"basicWeek",MODE_BASIC_DAY:"basicDay",MODE_AGENDA_WEEK:"agendaWeek",MODE_AGENDA_DAY:"agendaDay"})}();